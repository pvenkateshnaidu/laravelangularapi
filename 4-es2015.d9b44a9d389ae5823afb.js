(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CPxx:function(t,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return l});var i=e("8Y7J"),o=e("jDdE");class s{constructor(){this.points=[],this.pointsChange=new i.EventEmitter,this.editable=!0,this.emitOnDragEnd=!1,this.penColor="black",this.backgroundColor="transparent",this.showDoneButton=!0,this.doneButtonText="Done",this.doneButtonClass="btn btn-primary",this.showClearButton=!0,this.clearButtonText="Clear",this.clearButtonClass="btn btn-default",this.format="blob",this.height=150,this.width=600,this.done=new i.EventEmitter,this.cleared=new i.EventEmitter,this.responsive=!0}ngOnInit(){}ngAfterViewInit(){this.responsive&&(window.addEventListener("resize",()=>{this.resizeCanvas()}),this.resizeCanvas()),this.initPad()}initPad(){this.signaturePad=new o(this.canvasRef.nativeElement,{penColor:this.penColor,backgroundColor:this.backgroundColor}),this.signaturePad.penColor=this.penColor,this.editable?this.signaturePad.on():this.signaturePad.off(),this.signaturePad.onEnd=(()=>{this.emitPoints(),this.emitOnDragEnd&&this.emitBlob()}),this.applyPoints(),this.emitOnDragEnd&&this.emitBlob()}clearPad(){this.signaturePad.clear(),this.cleared.emit(),this.emitPoints(),this.emitOnDragEnd&&this.emitBlob()}applyPoints(){if(!this.points||!this.signaturePad)return;this.signaturePad.clear();const t=this.canvasRef.nativeElement.offsetWidth/this.width,n=JSON.parse(JSON.stringify(this.points));n.forEach(n=>{n.points.forEach(n=>{n.x=n.x*t,n.y=n.y*t})}),this.signaturePad.fromData(n)}emitPoints(){const t=this.canvasRef.nativeElement.offsetWidth/this.width,n=JSON.parse(JSON.stringify(this.signaturePad.toData()));n.forEach(n=>{n.points.forEach(n=>{n.x=n.x/t,n.y=n.y/t})}),this.pointsChange.emit(n)}emitPointsAndBlob(){this.emitPoints(),this.emitBlob()}emitBlob(){switch(this.format){case"base64":this.done.emit(this.signaturePad.toDataURL());break;case"json":this.done.emit(this.signaturePad.toData());break;default:this.canvasRef.nativeElement.toBlob(t=>{this.done.emit(t)})}}resizeCanvas(){const t=this.canvasRef.nativeElement;if(!t)return;const n=t.closest(".signature-pad");if(!n)return;const e=n.offsetWidth/(this.width/this.height);t.setAttribute("width",`${n.offsetWidth}`),t.setAttribute("height",`${e}`),this.applyPoints()}}class l{}},EPYN:function(t,n,e){var i=e("mrSG").__decorate,o=e("mrSG").__metadata;Object.defineProperty(n,"__esModule",{value:!0});var s=e("8Y7J"),l=e("SVse"),a=e("VSng"),r=function(){return i([s.Component({selector:"p-inplaceDisplay",template:"<ng-content></ng-content>"})],function(){})}();n.InplaceDisplay=r;var u=function(){return i([s.Component({selector:"p-inplaceContent",template:"<ng-content></ng-content>"})],function(){})}();n.InplaceContent=u;var c=function(){function t(){this.onActivate=new s.EventEmitter,this.onDeactivate=new s.EventEmitter}return t.prototype.activate=function(t){this.disabled||(this.active=!0,this.onActivate.emit(t))},t.prototype.deactivate=function(t){this.disabled||(this.active=!1,this.hover=!1,this.onDeactivate.emit(t))},i([s.Input(),o("design:type",Boolean)],t.prototype,"active",void 0),i([s.Input(),o("design:type",Boolean)],t.prototype,"closable",void 0),i([s.Input(),o("design:type",Boolean)],t.prototype,"disabled",void 0),i([s.Input(),o("design:type",Object)],t.prototype,"style",void 0),i([s.Input(),o("design:type",String)],t.prototype,"styleClass",void 0),i([s.Output(),o("design:type",s.EventEmitter)],t.prototype,"onActivate",void 0),i([s.Output(),o("design:type",s.EventEmitter)],t.prototype,"onDeactivate",void 0),i([s.Component({selector:"p-inplace",template:'\n        <div [ngClass]="{\'ui-inplace ui-widget\': true, \'ui-inplace-closable\': closable}" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-inplace-display" (click)="activate($event)"\n                [ngClass]="{\'ui-state-disabled\':disabled}" *ngIf="!active">\n                <ng-content select="[pInplaceDisplay]"></ng-content>\n            </div>\n            <div class="ui-inplace-content" *ngIf="active">\n                <ng-content select="[pInplaceContent]"></ng-content>\n                <button type="button" icon="pi pi-times" pButton (click)="deactivate($event)" *ngIf="closable"></button>\n            </div>\n        </div>\n    '})],t)}();n.Inplace=c,n.InplaceModule=function(){return i([s.NgModule({imports:[l.CommonModule,a.ButtonModule],exports:[c,r,u,a.ButtonModule],declarations:[c,r,u]})],function(){})}()},TenH:function(t,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return r});var i=e("8Y7J"),o=(e("CPxx"),e("SVse")),s=i["\u0275crt"]({encapsulation:0,styles:[".signature-pad[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{background:#f2f2f2}.signature-pad[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:.25em}"],data:{}});function l(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[],[[8,"className",0]],[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==t.component.emitPointsAndBlob()&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,n){var e=n.component;t(n,0,0,e.doneButtonClass),t(n,1,0,e.doneButtonText)})}function a(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[],[[8,"className",0]],[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==t.component.clearPad()&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,n){var e=n.component;t(n,0,0,e.clearButtonClass),t(n,1,0,e.clearButtonText)})}function r(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{canvasRef:0}),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","signature-pad"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,[[1,0],["canvas",1]],null,0,"canvas",[],[[8,"width",0],[8,"height",0]],null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,l)),i["\u0275did"](5,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](7,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,e.showDoneButton),t(n,7,0,e.showClearButton)},function(t,n){var e=n.component;t(n,2,0,e.width,e.height)})}},jDdE:function(t,n,e){"use strict";var i=function(){function t(t,n,e){this.x=t,this.y=n,this.time=e||Date.now()}return t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0},t}(),o=function(){function t(t,n,e,i,o,s){this.startPoint=t,this.control2=n,this.control1=e,this.endPoint=i,this.startWidth=o,this.endWidth=s}return t.fromPoints=function(n,e){var i=this.calculateControlPoints(n[0],n[1],n[2]).c2,o=this.calculateControlPoints(n[1],n[2],n[3]).c1;return new t(n[1],i,o,n[2],e.start,e.end)},t.calculateControlPoints=function(t,n,e){var o=t.x-n.x,s=t.y-n.y,l=n.x-e.x,a=n.y-e.y,r=(t.x+n.x)/2,u=(t.y+n.y)/2,c=(n.x+e.x)/2,h=(n.y+e.y)/2,d=Math.sqrt(o*o+s*s),p=Math.sqrt(l*l+a*a),v=p/(d+p),f=n.x-(c+(r-c)*v),m=n.y-(h+(u-h)*v);return{c1:new i(r+f,u+m),c2:new i(c+f,h+m)}},t.prototype.length=function(){for(var t,n,e=0,i=0;i<=10;i+=1){var o=i/10,s=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var a=s-t,r=l-n;e+=Math.sqrt(a*a+r*r)}t=s,n=l}return e},t.prototype.point=function(t,n,e,i,o){return n*(1-t)*(1-t)*(1-t)+3*e*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},t}();t.exports=function(){function t(n,e){void 0===e&&(e={});var i=this;this.canvas=n,this.options=e,this._handleMouseDown=function(t){1===t.which&&(i._mouseButtonDown=!0,i._strokeBegin(t))},this._handleMouseMove=function(t){i._mouseButtonDown&&i._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(t))},this._handleTouchStart=function(t){t.preventDefault(),1===t.targetTouches.length&&i._strokeBegin(t.changedTouches[0])},this._handleTouchMove=function(t){t.preventDefault(),i._strokeMoveUpdate(t.targetTouches[0])},this._handleTouchEnd=function(t){t.target===i.canvas&&(t.preventDefault(),i._strokeEnd(t.changedTouches[0]))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this._strokeMoveUpdate=this.throttle?function(t,n){void 0===n&&(n=250);var e,i,o,s=0,l=null,a=function(){s=Date.now(),l=null,e=t.apply(i,o),l||(i=null,o=[])};return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var c=Date.now(),h=n-(c-s);return i=this,o=r,h<=0||h>n?(l&&(clearTimeout(l),l=null),s=c,e=t.apply(i,o),l||(i=null,o=[])):l||(l=setTimeout(a,h)),e}}(t.prototype._strokeUpdate,this.throttle):t.prototype._strokeUpdate,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._ctx=n.getContext("2d"),this.clear(),this.on()}return t.prototype.clear=function(){var t=this._ctx,n=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,n.width,n.height),t.fillRect(0,0,n.width,n.height),this._data=[],this._reset(),this._isEmpty=!0},t.prototype.fromDataURL=function(t,n,e){var i=this;void 0===n&&(n={});var o=new Image,s=n.ratio||window.devicePixelRatio||1,l=n.width||this.canvas.width/s,a=n.height||this.canvas.height/s;this._reset(),o.onload=function(){i._ctx.drawImage(o,0,0,l,a),e&&e()},o.onerror=function(t){e&&e(t)},o.src=t,this._isEmpty=!1},t.prototype.toDataURL=function(t,n){switch(void 0===t&&(t="image/png"),t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,n)}},t.prototype.on=function(){this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents()},t.prototype.off=function(){this.canvas.style.msTouchAction="auto",this.canvas.style.touchAction="auto",this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.fromData=function(t){var n=this;this.clear(),this._fromData(t,function(t){return n._drawCurve({color:t.color,curve:t.curve})},function(t){return n._drawDot({color:t.color,point:t.point})}),this._data=t},t.prototype.toData=function(){return this._data},t.prototype._strokeBegin=function(t){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},t.prototype._strokeUpdate=function(t){var n=this._createPoint(t.clientX,t.clientY),e=this._data[this._data.length-1],i=e.points,o=i.length>0&&i[i.length-1],s=!!o&&n.distanceTo(o)<=this.minDistance,l=e.color;if(!o||!o||!s){var a=this._addPoint(n);o?a&&this._drawCurve({color:l,curve:a}):this._drawDot({color:l,point:n}),i.push({time:n.time,x:n.x,y:n.y})}},t.prototype._strokeEnd=function(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)},t.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},t.prototype._handleTouchEvents=function(){this.canvas.style.msTouchAction="none",this.canvas.style.touchAction="none",this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},t.prototype._reset=function(){this._points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},t.prototype._createPoint=function(t,n){var e=this.canvas.getBoundingClientRect();return new i(t-e.left,n-e.top,(new Date).getTime())},t.prototype._addPoint=function(t){var n=this._points;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var e=this._calculateCurveWidths(n[1],n[2]),i=o.fromPoints(n,e);return n.shift(),i}return null},t.prototype._calculateCurveWidths=function(t,n){var e=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(e),o={end:i,start:this._lastWidth};return this._lastVelocity=e,this._lastWidth=i,o},t.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},t.prototype._drawCurveSegment=function(t,n,e){var i=this._ctx;i.moveTo(t,n),i.arc(t,n,e,0,2*Math.PI,!1),this._isEmpty=!1},t.prototype._drawCurve=function(t){var n=t.color,e=t.curve,i=this._ctx,o=e.endWidth-e.startWidth,s=2*Math.floor(e.length());i.beginPath(),i.fillStyle=n;for(var l=0;l<s;l+=1){var a=l/s,r=a*a,u=r*a,c=1-a,h=c*c,d=h*c,p=d*e.startPoint.x;p+=3*h*a*e.control1.x,p+=3*c*r*e.control2.x;var v=d*e.startPoint.y;v+=3*h*a*e.control1.y,v+=3*c*r*e.control2.y,this._drawCurveSegment(p+=u*e.endPoint.x,v+=u*e.endPoint.y,e.startWidth+u*o)}i.closePath(),i.fill()},t.prototype._drawDot=function(t){var n=t.color,e=t.point,i=this._ctx,o="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(e.x,e.y,o),i.closePath(),i.fillStyle=n,i.fill()},t.prototype._fromData=function(t,n,e){for(var o=0,s=t;o<s.length;o++){var l=s[o],a=l.color,r=l.points;if(r.length>1)for(var u=0;u<r.length;u+=1){var c=r[u],h=new i(c.x,c.y,c.time);this.penColor=a,0===u&&this._reset();var d=this._addPoint(h);d&&n({color:a,curve:d})}else this._reset(),e({color:a,point:r[0]})}},t.prototype._toSVG=function(){var t=this,n=this._data,e=Math.max(window.devicePixelRatio||1,1),i=this.canvas.width/e,o=this.canvas.height/e,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",this.canvas.width.toString()),s.setAttribute("height",this.canvas.height.toString()),this._fromData(n,function(t){var n=t.color,e=t.curve,i=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},function(n){var e=n.color,i=n.point,o=document.createElement("circle"),l="function"==typeof t.dotSize?t.dotSize():t.dotSize;o.setAttribute("r",l.toString()),o.setAttribute("cx",i.x.toString()),o.setAttribute("cy",i.y.toString()),o.setAttribute("fill",e),s.appendChild(o)});var l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+i+" "+o+'" width="'+i+'" height="'+o+'">',a=s.innerHTML;if(void 0===a){var r=document.createElement("dummy"),u=s.childNodes;r.innerHTML="";for(var c=0;c<u.length;c+=1)r.appendChild(u[c].cloneNode(!0));a=r.innerHTML}return"data:image/svg+xml;base64,"+btoa(l+a+"</svg>")},t}()},rGLl:function(t,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return c});var i=e("8Y7J"),o=(e("EPYN"),e("SVse")),s=e("VSng"),l=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function a(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","ui-inplace-display"]],null,[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==t.component.activate(e)&&i),i},null,null)),i["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-state-disabled":0}),i["\u0275ncd"](null,0)],function(t,n){var e=t(n,3,0,n.component.disabled);t(n,2,0,"ui-inplace-display",e)},null)}function r(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["icon","pi pi-times"],["pButton",""],["type","button"]],null,[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==t.component.deactivate(e)&&i),i},null,null)),i["\u0275did"](1,4341760,null,0,s.ButtonDirective,[i.ElementRef],{icon:[0,"icon"]},null)],function(t,n){t(n,1,0,"pi pi-times")},null)}function u(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","ui-inplace-content"]],null,null,null,null,null)),i["\u0275ncd"](null,1),(t()(),i["\u0275and"](16777216,null,null,1,null,r)),i["\u0275did"](3,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,3,0,n.component.closable)},null)}function c(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),i["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-inplace ui-widget":0,"ui-inplace-closable":1}),i["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](5,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](7,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,u)),i["\u0275did"](9,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component,i=e.styleClass,o=t(n,3,0,!0,e.closable);t(n,2,0,i,o),t(n,5,0,e.style),t(n,7,0,!e.active),t(n,9,0,e.active)},null)}}}]);